# 二进制小数

## **描述**

> 给定一个十进制小数X，判断X的二进制表示是否是有限确定的。
>
> 例如0.5的二进制表示是0.1，0.75的二进制表示是0.11，0.3没有确定有限的二进制表示。



## **输入**

> 第一行包含一个整数 T (1 ≤ T ≤ 10)，表示测试数据的组数。
>
> 以下T行每行包含一个十进制小数 X (0 < X < 1)。 X一定是以"0."开头，小数部分不超过100位。



## **输出**

> 对于每组输入，输出 X 的二进制表示或者NO(如果 X 没有确定有限的二进制表示）。



## **样例输入**

    3
    0.5
    0.75
    0.3



## **样例输出**

    0.1
    0.11
    NO



## **思路**

乘 `2` 取整，并且判断小数点后最后一位非零位是否为 `5` ，若不是，则该小数无法写成有限二进制形式；

否则循环到小数点后为 `0` 时算法结束。

至于为什么判断是否等于 `5` ，因为在考虑忽略进位的时候，只有 `5` 在连续乘 `2` 时有几率等于 `0` （也就是消除当前位），其他 `1-9` 中的数字都会一直循环下去（无法消除当前位），所以在乘 `2` 取整的过程中会因为这个影响到最终小数点后能否全部消除。



## **AC 代码**

```python
# -*- coding:utf8 -*-
from decimal import *

getcontext().prec = 100


def prBob(s):
    ans = []
    while s != 1.0:
        # 判断最后一位非零位
        if str(s).rstrip('0')[-1] != '5':
            print 'NO'
            break
        # 乘2取整
        s = (s - int(s)) * Decimal('2.0')
        ans.append(str(int(s)))
    else:
        print '0.' + "".join(ans)


# 输入次数
T = int(raw_input())

while T > 0:
    T -= 1
    # 输入十进制小数
    s = Decimal(raw_input())
    prBob(s)
```

